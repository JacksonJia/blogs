<!DOCTYPE html>
<html lang="zh-cn">

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.31" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Jackson Jia">
    <meta property="og:url" content="http://www.freesurfing.net/2017/11/shadowsocks%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">

    <title>Shadowsocks科学上网 - </title>
    <meta property="og:title" content="Shadowsocks科学上网 - ">
    <meta property="og:type" content="article">
    <meta name="description" content="">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Arvo:400,700">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/journal.css">
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="">

  </head>

  <body>
    <div class="container">

      <nav class="site-nav">
        <a href="http://www.freesurfing.net/">Index</a>
      </nav>


  <article class="post">
    <header class="post-header">
      <h1 class="post-title">Shadowsocks科学上网</h1>
      <time class="post-date" datetime="2017-11-24 23:34:18 CST">24 Nov 2017</time>
    </header>

    

<hr />

<h4 id="shadowsocks是什么">shadowsocks是什么</h4>

<p>shadowsocks是一款基于socks5的代理，在国内被广泛用于科学上网</p>

<hr />

<h3 id="准备工作">准备工作</h3>

<p>要使用shadowsocks科学上网，首先你得有一台位于墙外边的服务器，这里推荐<a href="https://bandwagonhost.com/aff.php?aff=7877">搬瓦工</a>的
VPS，由于搬瓦工已经被墙，上不去的同学可以访问<a href="https://bwh1.net/index.php">国内官方地址</a>。关于购买以及其他事宜，以后我会专门写一篇来介绍</p>

<hr />

<h3 id="shadowsocks服务器端配置">shadowsocks服务器端配置</h3>

<p>第一步: 先安装 shadowsocks</p>

<pre><code class="language-bash">pip install shadowsocks 
</code></pre>

<p>第二步: 生成<code>/etc/shadowsocks.json</code>内容如下</p>

<pre><code class="language-json">{
    &quot;server&quot;:&quot;my_server_ip&quot;,
    &quot;server_port&quot;:8388,
    &quot;password&quot;:&quot;barfoo!&quot;,
    &quot;timeout&quot;:600,
    &quot;method&quot;:&quot;aes-256-cfb&quot;
}
</code></pre>

<p>每个字段的含义：</p>

<ul>
<li>server: 主机的ip</li>
<li>server_port: shadowsocks监听的端口</li>
<li>password: 用于加密的密码</li>
<li>timeout: 连接过期时间</li>
<li>method: 加密算法，加密算法建议先用 <code>aes-256-cfb</code>，想更换加密算法的可以参考<a href="https://shadowsocks.org/en/spec/Stream-Ciphers.html">官网</a></li>
</ul>

<p>第三步：启动</p>

<pre><code class="language-bash">ssserver -c /etc/shadowsocks.json start
</code></pre>

<p>shadowsocks服务器端起来之后，可以先用客户端连接下，看一看是否已经可以科学上网，确认无误后，进行下一步</p>

<p>第四部：设置开机自启</p>

<p>使用systemd来管理，添加 <code>/etc/systemd/system/shadowsocks.service</code>内容如下</p>

<pre><code>[Unit]
Description=Shadowsocks Server
After=network.target

[Service]
Type=simple
User=root
ExecStart=/usr/local/bin/ssserver -c /etc/shadowsocks.json

[Install]
WantedBy=multi-user.target
</code></pre>

<p>注意把 <code>/usr/local/bin/ssserver</code>替换成你系统中<code>ssserver</code>的绝对路径</p>

<p>最后:</p>

<pre><code class="language-bash">sudo systemctl enable /etc/systemd/system/shadowsocks.service
</code></pre>

<p>以上就是 <code>shadowsocks</code> 的服务器端配置</p>


  </article>


      <footer class="site-footer">
        <span itemscope itemtype="http://schema.org/Person">
          <link itemprop="url" href="http://www.freesurfing.net/">
          <span itemprop="name">Jackson Jia</span>

          <br>

          <a itemprop="sameAs" href="https://github.com/JacksonJia" title="GitHub">GH</a>

          

          
        </span>

        
      </footer>
    </div>

  <script src="/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>

